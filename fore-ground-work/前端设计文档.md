## 前端设计

### 技术选型及理由

我们的项目是一个前后端分离的单页面web应用，技术栈是**vuejs + webpack + ant-design**，以下是选用这些工具开发的理由及简介：

**vuejs**：MVVM结构的前端框架，响应式设计，适用于前后端分离的SPA应用开发。vuejs框架采用了组件式设计，降低每个页面间的耦合度。vue提供了强大的数据绑定组件，在编程时完全不用访问DOM，因而也用不到jQuery，大大降低了开发难度，同时中文文档很详细。

**webpack**：前端打包工具，对于开发前后端分离的SPA应用来说十分便捷。

**vue-cli**：[vue-cli3.0框架]([https://cli.vuejs.org/zh/](https://cli.vuejs.org/zh/))集成了webpack等常用工具包，提供模拟服务器运行及热加载，作为脚手架工具简化了开发过程中的环境搭建步骤。

**ant-design**：[ant-design-vue]([https://vue.ant.design/docs/vue/introduce-cn/](https://vue.ant.design/docs/vue/introduce-cn/))是一个支持vue的UI库，控件齐全，使用简单，采用UI库简化了css样式的编写，且ant-design提供的默认控件样式有不错的样式和过渡效果。

在开发中还用到了一些小组件：
* **axios**：第三方http库，用promise封装了get和post请求。
* **vue-router**：vuejs的路由组件，提供了前端路由导航，组件传参，路由过滤等功能。
* **vuex**：vuejs的状态管理组件，全局存储数据，用于在前端保存登录状态及用户信息。

### 模块划分

vuejs的MVVM架构让开发过程专注于页面的编写，我们的前端部分共由以下几部分页面组成：
* 注册登录界面
* 主导航界面
* 问卷调查的系列页面
* 小任务系统的系列页面

![fronted-structure](fronted-structure.PNG)

### 关键实现

* vuex全局状态存储。vuex可以存储用户的登录状态及账户信息，而刷新有可能丢失数据，因此我采用了localstorage存储vuex数据，监听浏览器刷新事件，在刷新前后读写localstorage，实现了刷新和关闭浏览器都不会丢失用户信息。

* 页面访问权限。只有登录过的用户才能访问应用界面，否则会跳转到登录界面，采用vue-router全局守卫监听路由跳转，检查vuex中存储的登录状态，对未登录的情况进行跳转。

* 与后端对接。我们项目的后端采用的是django框架，由于前后端分离的项目特性，前后端对接的大部分工作都是数据交互，axios可以设置一个全局请求url的置换，在开发时将数据转发到后端服务器端口，在开发完成打包时取消这个转发。

### 开发计划及更新日志

| 开发阶段 | 时间 | 任务 |
| --- | --- | --- |
|第一阶段| 1-5周   |  需求调研，原型构思 |
|第二阶段| 6-10周  |  环境搭建，原型搭建 |
|第三阶段| 10-14周 |  实现页面模块       |
|第四阶段| 15-18周 |  对接数据，测试，完善界面   |

[更新日志](https://github.com/Walikrence/swsad-project/tree/master/fore-ground-work)
